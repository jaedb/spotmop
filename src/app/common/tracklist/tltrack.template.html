<div class="track"
    ng-class="{ 'playing': isCurrentlyPlaying(), 'selected': track.selected }"
    candrag
    dragobj="track"
    draggable="false"
    data-uri="{{ track.track.uri }}"
    data-local="{{ local }}">

        <div class="selected-state">
            <i class="fa fa-check-square-o" ng-show="track.selected"></i>
            <i class="fa fa-square-o" ng-show="!track.selected"></i>
        </div>

        <div class="col w30 title"><span ng-bind="track.track.name"></span><span class="flag grey" ng-if="local">Local</span></div>
        
        <div class="col w30 artist" ng-if="!local">
            <artistlist artists="track.track.artists"></artistlist>
        </div>
        
        <div class="col w35 album" ng-if="source != 'local'"><a ui-sref="browse.album({ uri: track.track.album.uri })" ng-bind="track.track.album.name" ng-if="track.track.album.uri"></a><span ng-bind="track.track.album.name" ng-if="!track.track.album.uri"></span></div>
        
        <div class="col w35 album" ng-if="source == 'local'"><a ui-sref="library.files({ folder: track.track.album.uri })" ng-bind="track.track.album.name" ng-if="track.track.album.uri"></a><span ng-bind="track.track.album.name" ng-if="!track.track.album.uri"></span></div>

        <div class="info">
            
            <span class="duration">
                <span>{{ track.track.length | formatMilliseconds }}</span>
            </span>
        
            <div class="source">
                <span class="si {{ sourceIconClasses() }}"></span>
            </div>
            
        </div>
        
        <div class="clear-both"></div>

</div>